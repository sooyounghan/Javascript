-----
### í”„ë¡œë¯¸ìŠ¤ì˜ ë³‘ë ¬ ì§„í–‰
-----
1. ì—¬ëŸ¬ í”„ë¡œë¯¸ìŠ¤ë¥¼ ë³‘ë ¬ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ Promiseì˜ ì •ì  ë©”ì„œë“œë“¤
```js
// ë‹¤ì„¯ ì£¼ìë“¤ì´ ë™ì‹œì— ì§ˆì£¼
// ë°ë“œë¼ì¸(ë°€ë¦¬ì´ˆ) ì•ˆì— ë“¤ì–´ì˜¤ì§€ ëª»í•˜ë©´ íƒˆë½
let DEADLINE = 1450;

function getRunPromise (name) {
  return new Promise((resolve, reject) => {
    const time = 1000 + Math.random() * 500;

    setTimeout(() => {
      if (time < DEADLINE) {
        console.log(`ğŸš© ${name} ë„ì°© - ${(time)/1000}ì´ˆ`);
        resolve({name, time});

      } else {
        reject((`${name} ì‹œê°„ì´ˆê³¼`));
      }
    }, time);
  });
}

console.log(
  'ì² ìˆ˜,ì˜í¬,ëŒì¤€,ì •ì•„,ê¸¸ëˆ'
  .split(',')
  .map(getRunPromise)
);
```
  - ë°˜í™˜ëœ Promiseë“¤ì„ map ì²˜ë¦¬ë¡œ ë°°ì—´ë¡œ ì €ì¥
<div align="center">
<img src="https://github.com/sooyounghan/JavaScript/assets/34672301/226d3a6c-355e-4936-8655-9b266198c094">
</div>

2. all
   - https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/all
   - í”„ë¡œë¯¸ìŠ¤ ë°°ì—´ì„ ë°›ì•„ ë™ì‹œì— ì§„í–‰
   - ëª¨ë‘ ì„±ê³µí•˜ë©´, resolveëœ ê°’ë“¤ì„ ë°°ì—´ë¡œ ë°˜í™˜ (thenìœ¼ë¡œ ë°›ìŒ)
   - í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ catch ì‹¤í–‰
```js
// í•œ ëª…ì´ë¼ë„ íƒˆë½í•˜ë©´ ì „ì²´ íƒˆë½
Promise.all(
  'ì² ìˆ˜,ì˜í¬,ëŒì¤€,ì •ì•„,ê¸¸ëˆ'
  .split(',')
  .map(getRunPromise)
)
.then(console.log)
.catch(console.error)
.finally(() => {
  console.log('- - ê²½ê¸° ì¢…ë£Œ - -');
});
```
<div align="center">
<img src="https://github.com/sooyounghan/JavaScript/assets/34672301/a6aa2f26-e829-4a47-90b1-373b8501559d">
<img src="https://github.com/sooyounghan/JavaScript/assets/34672301/9b034dfa-fa41-44b9-8470-01f25d8751ef">
</div>

```js
// ì„±ê³µì‹œ íƒ‘3 í‘œì‹œ
Promise.all(
  'ì² ìˆ˜,ì˜í¬,ëŒì¤€,ì •ì•„,ê¸¸ëˆ'
  .split(',')
  .map(getRunPromise)
)
.then(arr => {
  return arr.sort((a, b) => {
    return a.time - b.time
  })
  .map(({name}) => name)
  .splice(0, 3)
  .join(', ');
})
.then(top3 => {
  console.log(`íƒ‘3: ${top3}`);
})
.catch(console.error)
.finally(() => {
  console.log('- - ê²½ê¸° ì¢…ë£Œ - -');
});
```
<div align="center">
<img src="https://github.com/sooyounghan/JavaScript/assets/34672301/f56f1fd4-b3d6-4510-a6e1-822ac8b07219">
</div>

3. allSettled
   - https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/allSettled
   - ì£¼ì–´ì§„ í”„ë¡œë¯¸ìŠ¤ë“¤ì˜ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ì¶œë ¥
   - ì‹¤íŒ¨ ìœ ë¬´ ê´€ê³„ ì—†ì´ thenìœ¼ë¡œ ë°°ì—´ ë°˜í™˜
   - ê·¸ëŸ¬ë¯€ë¡œ catchëŠ” ë™ì‘í•˜ì§€ ì•ŠìŒ
   
```js
Promise.allSettled(
  'ì² ìˆ˜,ì˜í¬,ëŒì¤€,ì •ì•„,ê¸¸ëˆ'
  .split(',')
  .map(getRunPromise)
)
.then(console.log)
// âš ï¸ catchëŠ” ë™ì‘í•˜ì§€ ì•ŠìŒ
.finally(() => {
  console.log('- - ê²½ê¸° ì¢…ë£Œ - -');
});
```
  - mapëœ Promise ê°ì²´ ë°°ì—´ì„ í™•ì¸í•˜ë©´, statusì™€ reason ì¡´ì¬
  - statusì—ëŠ” 'fulfilled'ì™€ 'rejected' ì¡´ì œ
    + fulfilled : ì •ìƒì ìœ¼ë¡œ Promiseê°€ ë˜ì–´ resolveëœ ìƒíƒœ
    + rejected : Promiseê°€ rejectëœ ìƒíƒœ
  - reasonì€ rejectë˜ì—ˆì„ ë•Œì˜ ë‚´ìš©ì„ ì €ì¥
  - valueëŠ” resolveëœ ê°’ì„ ì €ì¥
    
<div align="center">
<img src="https://github.com/sooyounghan/JavaScript/assets/34672301/14c397a8-8474-40d6-88a0-d0f053cb8079">
<img src="https://github.com/sooyounghan/JavaScript/assets/34672301/597175d2-37dd-430c-8b30-e13b58dc18dd">
</div>

```js
Promise.allSettled(
  'ì² ìˆ˜,ì˜í¬,ëŒì¤€,ì •ì•„,ê¸¸ëˆ'
  .split(',')
  .map(getRunPromise)
)
.then(arr => {
  return {
    succ: arr.filter(result => {
      return result.status === 'fulfilled'
    }),
    fail: arr.filter(result => {
      return result.status === 'rejected'
    })
  }
})
.then(res => {
  res.succ.sort((a, b) => {
    return a.value.time - b.value.time;
  });
  console.log(
    `ì™„ì£¼: ${res.succ.length}ëª… (1ë“±: ${res.succ[0].value.name})`
  );
  console.log(
    `íƒˆë½: ${res.fail.length}ëª…`
  );
})

.finally(() => {
  console.log('- - ê²½ê¸° ì¢…ë£Œ - -');
});
```
<div align="center">
<img src="https://github.com/sooyounghan/JavaScript/assets/34672301/da4f9181-0666-4467-beb2-e20ea3755483">
</div>

4. any
   - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/any
   - ê°€ì¥ ë¨¼ì € ì„±ê³µí•œ í”„ë¡œë¯¸ìŠ¤ì˜ ê²°ê³¼ë¥¼ thenìœ¼ë¡œ ë°˜í™˜
   - ëª¨ë‘ ì‹¤íŒ¨ ì‹œ ì˜¤ë¥˜ ë°œìƒ
   - ê·¸ëŸ¬ë¯€ë¡œ, ëª¨ë‘ ì‹¤íŒ¨í•´ë„ catchë¥¼ ë°œìƒí•˜ì§€ ì•ŠìŒ
```js
DEADLINE = 1050; // ë³€ê²½
```
```js
Promise.any(
  'ì² ìˆ˜,ì˜í¬,ëŒì¤€,ì •ì•„,ê¸¸ëˆ'
  .split(',')
  .map(getRunPromise)
)
.then(console.log)
// âš ï¸ ëª¨ë‘ ì‹¤íŒ¨í•´ë„ catchëŠ” ë™ì‘í•˜ì§€ ì•ŠìŒ
.finally(() => {
  console.log('- - ê²½ê¸° ì¢…ë£Œ - -');
});
```
<div align="center">
<img src="https://github.com/sooyounghan/JavaScript/assets/34672301/80c3ecfb-c626-44a6-8152-86d1360903f1">
</div>

5. race
   - https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Promise/race
   - ì„±ê³µì´ë“ , ì‹¤íŒ¨ë“  ì²« ê²°ê³¼ë¬¼ì„ then ë˜ëŠ” catchë¡œ ë°˜í™˜
```js
// ë‹¤ì„¯ ì£¼ìë“¤ì´ ì„ íƒí•œ ë„ì°©ì§€ë¡œ ì§ˆì£¼
// ë„ì°©ì§€ì— 'ê½'ì´ ìˆìœ¼ë©´(50% í™•ë¥ ) ì‹¤íŒ¨
function getBombRunPromise (name) {
  return new Promise((resolve, reject) => {
    const time = 1000 + Math.random() * 500;

    setTimeout(() => {
      console.log(`ğŸš© ${name} ë„ì°© - ${(time)/1000}ì´ˆ`);
      if (Math.random() < 0.5) {
        resolve((`ğŸ™Œ ${name} ìŠ¹ë¦¬!`));
      } else {
        
        reject((`ğŸ’£ ${name} ê½!`));
      }
    }, time);
  });
}

Promise.race(
  'ì² ìˆ˜,ì˜í¬,ëŒì¤€,ì •ì•„,ê¸¸ëˆ'
  .split(',')
  .map(getBombRunPromise)
)
.then(console.log)
.catch(console.error)
.finally(() => {
  console.log('- - ê²½ê¸° ì¢…ë£Œ - -');
});
```
<div align="center">
<img src="https://github.com/sooyounghan/JavaScript/assets/34672301/fe6b7ee1-125a-4c46-ab88-2c6804ec135f">
<img src="https://github.com/sooyounghan/JavaScript/assets/34672301/8f3df950-e1f0-469d-a4a0-682de54da809">
</div>

